<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Snake Game | Yes or No</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .pulse-animation {
            animation: pulse 1.5s infinite;
        }
        #game-board {
            border: 2px solid #4b5563;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        #direction-arrow {
            width: 48px;
            height: 48px;
            margin: 0 auto 1rem auto;
            display: block;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center p-4">
    <a href="index.html" class="absolute left-4 top-4 bg-gray-700 rounded px-4 py-2 hover:bg-gray-600">‚Üê Home</a>
    <div class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-bold mb-2 text-green-400">Snake Game</h1>
        <p class="text-gray-400 mb-6">Use arrow keys or buttons below</p>
        <div class="flex justify-center gap-8 mb-6">
            <div class="bg-gray-800 p-4 rounded-lg">
                <p class="text-gray-400">Score</p>
                <p id="score" class="text-2xl font-bold text-green-400">0</p>
            </div>
            <div class="bg-gray-800 p-4 rounded-lg">
                <p class="text-gray-400">High Score</p>
                <p id="high-score" class="text-2xl font-bold text-yellow-400">0</p>
            </div>
        </div>
    </div>

    <!-- Direction Arrow Indicator -->
    <div id="arrow-container" class="mb-2">
        <svg id="direction-arrow" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 48" stroke="currentColor">
            <g id="arrow-group">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M24 40V8M24 8l-8 8M24 8l8 8"/>
            </g>
        </svg>
    </div>

    <div class="relative">
        <canvas id="game-board" width="400" height="400" class="bg-gray-800 rounded-lg"></canvas>
        <div id="game-over" class="hidden absolute inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center rounded-lg">
            <h2 class="text-3xl font-bold text-red-500 mb-4">Game Over!</h2>
            <p class="text-xl mb-6">Your score: <span id="final-score" class="text-green-400">0</span></p>
            <button id="restart-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-full transition-all pulse-animation">
                Play Again
            </button>
        </div>
        <div id="start-screen" class="absolute inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center rounded-lg">
            <h2 class="text-3xl font-bold text-green-400 mb-4">Ready to Play?</h2>
            <p class="text-gray-300 mb-8 text-center max-w-md px-4">
                Eat the food to grow. Avoid hitting the walls or yourself!
            </p>
            <button id="start-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full text-lg transition-all pulse-animation">
                Start Game
            </button>
        </div>
    </div>

    <div class="mt-8 grid grid-cols-3 gap-2 max-w-xs mx-auto">
        <div></div>
        <button id="up-btn" class="bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-lg flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
            </svg>
        </button>
        <div></div>
        <button id="left-btn" class="bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-lg flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
        <button id="down-btn" class="bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-lg flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
        </button>
        <button id="right-btn" class="bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-lg flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('game-board');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('score');
            const highScoreDisplay = document.getElementById('high-score');
            const finalScoreDisplay = document.getElementById('final-score');
            const gameOverScreen = document.getElementById('game-over');
            const startScreen = document.getElementById('start-screen');
            const startBtn = document.getElementById('start-btn');
            const restartBtn = document.getElementById('restart-btn');

            // Direction Arrow Indicator
            const directionArrow = document.getElementById('direction-arrow');
            const arrowGroup = directionArrow.querySelector('#arrow-group');
            const arrowPaths = {
                'up':   '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M24 40V8M24 8l-8 8M24 8l8 8"/>',
                'down': '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M24 8v32M24 40l8-8M24 40l-8-8"/>',
                'left': '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M40 24H8M8 24l8-8M8 24l8 8"/>',
                'right':'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M8 24h32M40 24l-8-8M40 24l-8 8"/>'
            };
            let currentDirection = 'up';
            function setArrowDirection(dir) {
                arrowGroup.innerHTML = arrowPaths[dir];
            }
            setArrowDirection(currentDirection);

            // Mobile controls
            const upBtn = document.getElementById('up-btn');
            const downBtn = document.getElementById('down-btn');
            const leftBtn = document.getElementById('left-btn');
            const rightBtn = document.getElementById('right-btn');
            
            const gridSize = 20;
            const tileCount = canvas.width / gridSize;
            let score = 0;
            let highScore = localStorage.getItem('snakeHighScore') || 0;
            highScoreDisplay.textContent = highScore;
            
            let snake = [
                {x: 10, y: 10}
            ];
            let velocityX = 0;
            let velocityY = 0;
            let foodX = 5;
            let foodY = 5;
            let gameSpeed = 150;
            let gameRunning = false;
            let gameLoop;
            
            // Colors
            const snakeColor = '#10B981'; // Tailwind green-400
            const foodColor = '#EF4444';  // Tailwind red-500
            const headColor = '#059669';  // Tailwind green-600
            
            // Start game
            startBtn.addEventListener('click', startGame);
            restartBtn.addEventListener('click', startGame);
            
            // Keyboard controls
            document.addEventListener('keydown', changeDirection);
            
            // Mobile controls
            upBtn.addEventListener('click', () => changeDirection({key: 'ArrowUp'}));
            downBtn.addEventListener('click', () => changeDirection({key: 'ArrowDown'}));
            leftBtn.addEventListener('click', () => changeDirection({key: 'ArrowLeft'}));
            rightBtn.addEventListener('click', () => changeDirection({key: 'ArrowRight'}));
            
            function startGame() {
                snake = [{x: 10, y: 10}];
                velocityX = 0;
                velocityY = 0;
                currentDirection = 'up';
                setArrowDirection(currentDirection);
                score = 0;
                scoreDisplay.textContent = score;
                gameOverScreen.classList.add('hidden');
                startScreen.classList.add('hidden');
                placeFood();
                gameRunning = true;
                
                if (gameLoop) clearInterval(gameLoop);
                gameLoop = setInterval(gameUpdate, gameSpeed);
            }
            
            function gameUpdate() {
                if (!gameRunning) return;
                ctx.fillStyle = '#1F2937';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.strokeStyle = '#374151';
                ctx.lineWidth = 0.5;
                for (let i = 0; i < tileCount; i++) {
                    ctx.beginPath();
                    ctx.moveTo(i * gridSize, 0);
                    ctx.lineTo(i * gridSize, canvas.height);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(0, i * gridSize);
                    ctx.lineTo(canvas.width, i * gridSize);
                    ctx.stroke();
                }
                const head = {x: snake[0].x + velocityX, y: snake[0].y + velocityY};
                snake.unshift(head);
                if (head.x === foodX && head.y === foodY) {
                    score++;
                    scoreDisplay.textContent = score;
                    placeFood();
                    if (score % 5 === 0) {
                        clearInterval(gameLoop);
                        gameSpeed = Math.max(gameSpeed - 5, 50);
                        gameLoop = setInterval(gameUpdate, gameSpeed);
                    }
                } else {
                    snake.pop();
                }
                if (
                    head.x < 0 || head.x >= tileCount || 
                    head.y < 0 || head.y >= tileCount ||
                    snake.slice(1).some(segment => segment.x === head.x && segment.y === head.y)
                ) {
                    gameOver();
                    return;
                }
                snake.forEach((segment, index) => {
                    ctx.fillStyle = index === 0 ? headColor : snakeColor;
                    ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize, gridSize);
                    ctx.strokeStyle = '#047857';
                    ctx.lineWidth = 1;
                    ctx.strokeRect(segment.x * gridSize, segment.y * gridSize, gridSize, gridSize);
                });
                ctx.fillStyle = foodColor;
                ctx.beginPath();
                const centerX = foodX * gridSize + gridSize / 2;
                const centerY = foodY * gridSize + gridSize / 2;
                const radius = gridSize / 2 - 2;
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = '#FECACA';
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius / 2, 0, Math.PI * 2);
                ctx.fill();
            }
            
            function placeFood() {
                let newFoodX, newFoodY;
                do {
                    newFoodX = Math.floor(Math.random() * tileCount);
                    newFoodY = Math.floor(Math.random() * tileCount);
                } while (snake.some(segment => segment.x === newFoodX && segment.y === newFoodY));
                foodX = newFoodX;
                foodY = newFoodY;
            }
            
            function changeDirection(e) {
                if (!gameRunning && e.key) {
                    startGame();
                    return;
                }
                switch (e.key) {
                    case 'ArrowUp':
                        if (velocityY !== 1) {
                            velocityX = 0;
                            velocityY = -1;
                            currentDirection = 'up'; setArrowDirection('up');
                        }
                        break;
                    case 'ArrowDown':
                        if (velocityY !== -1) {
                            velocityX = 0;
                            velocityY = 1;
                            currentDirection = 'down'; setArrowDirection('down');
                        }
                        break;
                    case 'ArrowLeft':
                        if (velocityX !== 1) {
                            velocityX = -1;
                            velocityY = 0;
                            currentDirection = 'left'; setArrowDirection('left');
                        }
                        break;
                    case 'ArrowRight':
                        if (velocityX !== -1) {
                            velocityX = 1;
                            velocityY = 0;
                            currentDirection = 'right'; setArrowDirection('right');
                        }
                        break;
                }
            }
            
            function gameOver() {
                gameRunning = false;
                clearInterval(gameLoop);
                if (score > highScore) {
                    highScore = score;
                    localStorage.setItem('snakeHighScore', highScore);
                    highScoreDisplay.textContent = highScore;
                }
                finalScoreDisplay.textContent = score;
                gameOverScreen.classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
